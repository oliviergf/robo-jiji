(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{169:function(e,a){e.exports="data:image/png;base64,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"},289:function(e,a,t){e.exports=t(526)},294:function(e,a,t){},525:function(e,a,t){},526:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),l=t(12),r=t.n(l),i=(t(294),t(30)),c=t(16),s=t(38),u=t(39),m=t(27),p=t(40),d=t(127),g=t.n(d),h=g.a.create({withCredentials:!0}),E=t(9),f=t(530),b=t(531),v=t(533),C=t(594),w=t(532),y=t(595),S=t(626),O=t(623);function j(e){return o.a.createElement(O.a,Object.assign({elevation:12,variant:"filled"},e))}var D={langue:["English","Francais"],logout:["Deconnexion","logout"],account:["Compte","Account"],notification:["Notifications","Notifications"],maps:["Carte","Map"],dashboard:["Appartements","Dashboard"],subscribe:["Creer un compte","Subscribe"],return:["retour","return"],informations:["informations","informations"],preferences:["Preferences","Preferences"],description:["Coronarobot automatise la recherche d'apartement en envoyant des notifications lorsqu'un appartement est publier sur kijiji","Corobonat is a service that automates the apartement hunting by notifying you whenever there a new one posted"],allTheTime:["Envoyer des notifications 24/7","Send notifications 24/7"],timeFetch:["Date ajouter","Time fetched"],install:["Install","Install"],dateAvailable:["Date enmenagement","Date available"],info1:["Le but est de reduire le stress de l'ulisateur qui cherche un logement en lui envoyant des notifications quand un apparts se post. Nous permettons de definir des zones geographiques et vous serez allerter losrquon new shit pop dans la zone!","the goal is to reduce the amount of time one yser could spend resfressh kijiji by sending notifications when a given spot is posted inside one of more speficic regions that the user defines"],info2:["Ce service est un app que vous pouvez telecharger via le siteweb sur votre telephone","This service is an website app hybrid that you can download to your phone"],info3:["Les utilisateurs de Iphone n'ont pas acces directement aux notifications de l'appareils et donc le service enverra des messages texte afin de notidier l'utilisateur.","Iphones users cannot presently receive notifications via the app and they will receveives texte messages"],rooms:["Taille de l'appartement","Apartement Size"],priceRange:["Range de loyer","Rent range"],beginning:["heure debut","start hour"],ending:["fin","end"],firstname:["Prenom","First name"],maxZonesReached:["Vous avez atteint le maximum de zones permises","You have reached the maxium number of zones"],applyPreferencesToNotificatons:["Appliquer les preferences aux notifications","Apply preferences to notification"],lastname:["Nom","Last name"],email:["Courriel","Email"],password:["Mot de passe","Password"],confirmation:["Confirmation","Confirmation"],submit:["Creer","Submit"],login:["se connecter","login"],enter:["Entrer","Enter"],enablePush:["Autoriser les notifications","Enable notifications"],Error:["Erreur","Error"],pwConfirmError:["Mauvaise confirmation du mot de passe","Wrong password confirmation"],emailConfirmError:["Mauvaise confirmation du courriel","Wrong email confirmation"],openRequiredFieldsError:["Tout les champs sont obligatoire","All fields are mandatory"],price:["Prix","Price"],validEmailError:["Vous devez entrer un courriel valide","You must enter a valid email"],registerSucces:["Compte Creer","Account Created"],openUsedEmailError:["Il y a deja un compte associer a ce courriel","There's a user associated with this email"],badLogin:["Compte invalide","Invalid account"],zoneName:["Nom de la zone","Zone name"],zoneDialogTitle:["Nouvelle zone","New zone"],cancel:["Annuler","Cancel"],telephoneNumber:["Numero de telephone","Phone number"],telephoneNumberConfirmation:["Confirmation telephone","Phone confirmation"],platForm:["Plateforme","Platform"],onlyAndroidUsers:["Necessaire pour les utilisateurs Android","Required for Android users"],telephoneError:["Veillez entrer un numero de telephone valide","You must into a valid phone number"],oldPasswordError:["L'ancien mot de passe n'est pas valide","Old password isn't valid"],open:["zones","zones"],new:["ajout","new"],modify:["Modifier","Edit"],apply:["Appliquer","Apply"],oldPassword:["Ancien mot de passe","Old password"],changePassword:["Nouveau mot de passe","New password"],updateUserSuccess:["Compte modifie avec success","Account update successfull"],success:["Succes","Success"],delete:["Effacer","Delete"],furnished:["Meubler","Furnished"],petsAllowed:["Animaux acceptes","Pets allowed"],wheelchairAccessible:["Acces handicape","Wheelchair accessible"],parkingAvailable:["Parking disponible","Parking available"]},k=t(131),A=t.n(k),P=t(596),N=t(36),x="http://localhost:8081",z=t(624),I=t(593),Z=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).hasAnyBlankField=function(){return""===t.state.firstname||""===t.state.lastname||""===t.state.email||""===t.state.emailConfirmation||""===t.state.password||""===t.state.confirmation},t.hasInvalidPhoneNumber=function(){if("apple"===t.state.platform)return!1;var e=/^\d+$/.test(t.state.telephone);return"android"===t.state.platform&&!e||t.state.telephone!==t.state.telephoneConfirmation||""===t.state.telephone||""===t.state.telephoneConfirmation},t.triggerErrorEmailUsed=function(){t.setState({openUsedEmailError:!0})},t.triggerErrorValidEmail=function(){t.setState({openValidEmailError:!0})},t.triggerErrorRequired=function(){t.setState({openRequiredFieldsError:!0})},t.triggerErrorEmail=function(){t.setState({openEmailError:!0})},t.triggerErrorPassword=function(){t.setState({openPassWordError:!0})},t.tiggerPhoneError=function(){t.setState({openPhoneError:!0})},t.handleClose=function(e,a){t.setState({openPassWordError:!1,openEmailError:!1,openRequiredFieldsError:!1,openValidEmailError:!1,openUsedEmailError:!1,openPhoneError:!1})},t.handleChange=function(e){t.setState(Object(E.a)({},e.target.name,e.target.value))},t.testPhoneNumber=function(){},t.handleRegisterInput=function(e){if(t.hasAnyBlankField())t.triggerErrorRequired();else if(t.hasInvalidPhoneNumber())t.tiggerPhoneError();else if(A.a.validate(t.state.email))if(t.state.password!==t.state.confirmation)t.triggerErrorPassword();else if(t.state.email!==t.state.emailConfirmation)t.triggerErrorEmail();else{t.setState({waitingRequest:!0});var a=Object(m.a)(t);g.a.post("".concat(x,"/register"),{firstname:t.state.firstname,lastname:t.state.lastname,email:t.state.email,password:t.state.password,platform:t.state.platform,telephone:t.state.telephone}).then((function(e){"success"===e.data?(a.setState({waitingRequest:!1,registrationSucces:!0}),setTimeout((function(){a.setState({fireRedirect:!0})}),1500)):"emailUsed"===e.data&&(a.triggerErrorEmailUsed(),a.setState({waitingRequest:!1}))})).catch((function(e){a.setState({waitingRequest:!1}),console.log(e)}))}else t.triggerErrorValidEmail();e.preventDefault()},t.state={firstname:"",lastname:"",email:"",emailConfirmation:"",password:"",confirmation:"",platform:"apple",telephone:"",telephoneConfirmation:"",openPassWordError:!1,openEmailError:!1,openRequiredFieldsError:!1,openValidEmailError:!1,waitingRequest:!1,registrationSucces:!1,fireRedirect:!1,openUsedEmailError:!1,openPhoneError:!1},t}return Object(p.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("form",{className:"registerForm",onSubmit:this.handleRegisterInput},o.a.createElement("div",null,o.a.createElement(f.a,null,o.a.createElement(b.a,{htmlFor:"component-simple"},D.firstname[this.props.language]),o.a.createElement(v.a,{id:"component-simple",name:"firstname",value:this.state.firstname,onChange:this.handleChange}))),o.a.createElement("div",null,o.a.createElement(f.a,null,o.a.createElement(b.a,{htmlFor:"component-simple"},D.lastname[this.props.language]),o.a.createElement(v.a,{id:"component-simple",name:"lastname",value:this.state.lastname,onChange:this.handleChange}))),o.a.createElement("div",null,o.a.createElement(f.a,null,o.a.createElement(b.a,{htmlFor:"component-simple"},D.email[this.props.language]),o.a.createElement(v.a,{id:"component-simple",name:"email",value:this.state.email,onChange:this.handleChange}))),o.a.createElement("div",null,o.a.createElement(f.a,null,o.a.createElement(b.a,{htmlFor:"component-simple"},D.confirmation[this.props.language]),o.a.createElement(v.a,{id:"component-simple",name:"emailConfirmation",value:this.state.emailConfirmation,onChange:this.handleChange}))),o.a.createElement("div",null,o.a.createElement(f.a,null,o.a.createElement(b.a,{htmlFor:"component-simple"},D.password[this.props.language]),o.a.createElement(v.a,{id:"component-simple",name:"password",value:this.state.password,onChange:this.handleChange}))),o.a.createElement("div",null,o.a.createElement(f.a,null,o.a.createElement(b.a,{htmlFor:"component-simple"},D.confirmation[this.props.language]),o.a.createElement(v.a,{id:"component-simple",name:"confirmation",value:this.state.confirmation,onChange:this.handleChange}))),o.a.createElement("div",null,o.a.createElement(f.a,{component:"fieldset"},o.a.createElement(I.a,{"aria-label":"Platforme",name:"platform",value:this.state.platform,onChange:this.handleChange},o.a.createElement(C.a,{value:"apple",control:o.a.createElement(z.a,null),label:"Apple"}),o.a.createElement(C.a,{value:"android",control:o.a.createElement(z.a,null),label:"Android"})))),"android"===this.state.platform&&o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(f.a,null,o.a.createElement(b.a,{htmlFor:"component-simple"},D.telephoneNumber[this.props.language]),o.a.createElement(v.a,{id:"component-simple",name:"telephone",value:this.state.telephone,onChange:this.handleChange}))),o.a.createElement("div",null,o.a.createElement(f.a,null,o.a.createElement(b.a,{htmlFor:"component-simple"},D.telephoneNumberConfirmation[this.props.language]),o.a.createElement(v.a,{id:"component-simple",name:"telephoneConfirmation",value:this.state.telephoneConfirmation,onChange:this.handleChange}))),o.a.createElement(w.a,null,D.onlyAndroidUsers[this.props.language])),o.a.createElement("div",null,o.a.createElement(y.a,{type:"submit",value:"Submit"},D.submit[this.props.language]),this.state.waitingRequest&&o.a.createElement(P.a,null))),o.a.createElement(S.a,{open:this.state.openRequiredFieldsError,autoHideDuration:2e3,onClose:this.handleClose},o.a.createElement(j,{severity:"error",onClose:this.handleClose},D.openRequiredFieldsError[this.props.language])),o.a.createElement(S.a,{open:this.state.openPassWordError,autoHideDuration:2e3,onClose:this.handleClose},o.a.createElement(j,{severity:"error",onClose:this.handleClose},D.pwConfirmError[this.props.language])),o.a.createElement(S.a,{open:this.state.openEmailError,autoHideDuration:2e3,onClose:this.handleClose},o.a.createElement(j,{severity:"error",onClose:this.handleClose},D.emailConfirmError[this.props.language])),o.a.createElement(S.a,{open:this.state.openValidEmailError,autoHideDuration:2e3,onClose:this.handleClose},o.a.createElement(j,{severity:"error",onClose:this.handleClose},D.validEmailError[this.props.language])),o.a.createElement(S.a,{open:this.state.openUsedEmailError,autoHideDuration:2e3,onClose:this.handleClose},o.a.createElement(j,{severity:"error",onClose:this.handleClose},D.openUsedEmailError[this.props.language])),o.a.createElement(S.a,{open:this.state.registrationSucces,autoHideDuration:2e3,onClose:this.handleClose},o.a.createElement(j,{severity:"success",onClose:this.handleClose},D.registerSucces[this.props.language])),o.a.createElement(S.a,{open:this.state.openPhoneError,autoHideDuration:2e3,onClose:this.handleClose},o.a.createElement(j,{severity:"error",onClose:this.handleClose},D.telephoneError[this.props.language])),this.state.fireRedirect&&o.a.createElement(N.a,{to:"/home"}))}}]),a}(o.a.Component),F=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).triggerError=function(){t.setState({openLoginError:!0})},t.handleClose=function(e,a){t.setState({openLoginError:!1})},t.handleChange=function(e){t.setState(Object(E.a)({},e.target.name,e.target.value))},t.handleRegisterInput=function(e){if(""!==t.state.email&&""!==t.state.password){var a=Object(m.a)(t);h.post("".concat(x,"/login"),{email:t.state.email,password:t.state.password}).then((function(e){200===e.status&&(a.props.logUserIn(e.data),a.setState({fireRedirect:!0}))})).catch((function(e){console.log(e),e.response&&401===e.response.status&&a.triggerError()}))}e.preventDefault()},t.state={email:"",password:"",fireRedirect:!1,openLoginError:!1},t}return Object(p.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this.state.fireRedirect;return o.a.createElement("div",null,o.a.createElement("form",{onSubmit:this.handleRegisterInput},o.a.createElement("div",null,o.a.createElement(f.a,null,o.a.createElement(b.a,{htmlFor:"component-simple"},"email"),o.a.createElement(v.a,{id:"component-simple",name:"email",value:this.state.email,onChange:this.handleChange}))),o.a.createElement("div",null,o.a.createElement(f.a,null,o.a.createElement(b.a,{htmlFor:"component-simple"},"password"),o.a.createElement(v.a,{id:"component-simple",name:"password",value:this.state.password,onChange:this.handleChange}))),o.a.createElement("div",null,o.a.createElement(y.a,{type:"submit",value:"login"},D.enter[this.props.language]))),o.a.createElement(S.a,{open:this.state.openLoginError,autoHideDuration:2e3,onClose:this.handleClose},o.a.createElement(j,{severity:"error",onClose:this.handleClose},D.badLogin[this.props.language])),e&&o.a.createElement(N.a,{to:"/home"}))}}]),a}(o.a.Component),R=t(597),q=t(621),U=t(20),T=t(104),V=t.n(T),H=t(173);t(527),t(528);H.initializeApp({apiKey:"AIzaSyC9JEIuG4hy1njZN2ktyr93BTbs1A2PX3U",authDomain:"super-awesome-party.firebaseapp.com",databaseURL:"https://super-awesome-party.firebaseio.com",projectId:"super-awesome-party",storageBucket:"super-awesome-party.appspot.com",messagingSenderId:"875797832163",appId:"1:875797832163:web:3393363537c816b546c0d6",measurementId:"G-7GLFHNZGV7"});var L=H.messaging();L.usePublicVapidKey("BOQLXYjUt8HWl6E97BbqHlLKshkmBtkhCbNfyldQtesSJ9YRy4Ae2ymzOJoU2n8xMLjV327QjoYU-yt0MqdP54A");var M=function(e){return h.post("".concat(x,"/subscribeNotif"),{method:"POST",headers:{"Content-Type":"application/json"},data:e}).then((function(e){if(200!==e.status)throw new Error("Bad status code from server.");return e}))},W=t(169),X=t.n(W),B=t(18),G=t(8);function J(e){var a=Object(n.useState)({bruh:!0,fame:10,failed:["once","twice"],mynigga:{name:"james",age:10}}),t=Object(G.a)(a,2),l=t[0],r=t[1];return o.a.createElement("div",null,"bruh this is a goddamn test",o.a.createElement(y.a,{onClick:function(){console.log("before",l),r(Object(B.a)({},l,{bruh:"oh shittt",fame:69,mynigga:Object(B.a)({},l.mynigga,{sex:!0})})),console.log("bruh"),console.log("after",l.mynigga)}},"bruh my"))}function K(e){return console.log("props home",e),o.a.createElement(R.a,{className:"home"},o.a.createElement(q.a,{justifyContent:"center",alignItems:"center"},o.a.createElement("div",null,o.a.createElement("img",{className:"logoimg",src:X.a})),o.a.createElement("div",null,D.description[e.language]),o.a.createElement(y.a,null,o.a.createElement(U.b,{style:{textDecoration:"none",color:"black"},to:"/register"},D.subscribe[e.language])),o.a.createElement(y.a,null,o.a.createElement(U.b,{style:{textDecoration:"none",color:"black"},to:"/informations"},D.informations[e.language])),o.a.createElement(J,null)))}var Q=t(26),Y=t(170),$=t(164),_=$.compose,ee=$.withProps,ae=t(170),te=ae.withScriptjs,ne=ae.withGoogleMap,oe=ae.GoogleMap,le=t(520).DrawingManager,re=_(ee({googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyBnIReQN29uQlQ9XPcplFlm5R8XnU2n0i4&v=3.exp&libraries=geometry,drawing,places",loadingElement:o.a.createElement("div",{style:{height:"100%"}}),containerElement:o.a.createElement("div",{style:{height:"400px"}}),mapElement:o.a.createElement("div",{style:{height:"100%"}})}),te,ne)((function(e){return o.a.createElement(oe,{defaultZoom:12,defaultCenter:{lat:e.userLocation.lat,lng:e.userLocation.lng},options:{gestureHandling:"greedy",disableDefaultUI:!0}},e.showDrawManager&&o.a.createElement(le,{defaultDrawingMode:"polygon",defaultOptions:{drawingControl:!0,drawingControlOptions:{position:"",drawingModes:["polygon"]},polygonOptions:{editable:!1}},onPolygonComplete:function(a){return e.complete(a)}}),e.zonesToDisplay.map((function(e){return console.log(e.polygon),o.a.createElement(Y.Polygon,{key:e.id,path:e.polygon.getPath()})})))})),ie=t(598),ce=t(603),se=t(536),ue=t(599),me=t(601),pe=t(600),de=t(629),ge=t(529),he=t(602),Ee=t(96),fe=t(175),be=t.n(fe),ve=t(261),Ce=t.n(ve),we=Object(ie.a)((function(e){return{root:{flexGrow:1,maxWidth:752},demo:{backgroundColor:e.palette.background.paper},title:{margin:e.spacing(4,0,2)}}}));function ye(e){var a,t,n,l,r,i,c=we();return o.a.createElement("div",{className:c.root},o.a.createElement(he.a,{container:!0,spacing:2},o.a.createElement(he.a,{item:!0,xs:12,md:6},o.a.createElement(Ee.a,{variant:"h6",className:c.title},"Selected Zones"),o.a.createElement("div",{className:c.demo},o.a.createElement(ce.a,null,(a=e.zoneList,t=e.deleteZoneFunc,n=e.onSelect,l=e.selectZoneToDelete,r=e.zoneIndexDelete,i=e.language,0!==a.length?a.map((function(e,a){return o.a.createElement(se.a,{button:!0,name:e.id,key:e.id,onClick:function(){!function(e,a){a(e)}(e.id,n)}},o.a.createElement(ue.a,null,o.a.createElement(de.a,null,o.a.createElement(be.a,null))),o.a.createElement(pe.a,{primary:e.name}),o.a.createElement(me.a,null,r!==a?o.a.createElement(ge.a,{edge:"end","aria-label":"delete",onClick:function(){return l(a)}},o.a.createElement(Ce.a,null)):o.a.createElement(y.a,{variant:"outlined",onClick:function(){return t(e.id)},color:"secondary"},D.delete[i])))})):o.a.createElement(se.a,null,o.a.createElement(ue.a,null,o.a.createElement(de.a,null,o.a.createElement(be.a,null))),o.a.createElement(pe.a,{primary:"you have no zones!"}))))))))}var Se=t(262),Oe=t.n(Se),je=t(627),De=t(605),ke=t(604),Ae=t(606),Pe=t(607);function Ne(e){var a=Object(n.useState)(e.defaultZoneName),t=Object(G.a)(a,2),l=t[0],r=t[1];Object(n.useEffect)((function(){""===l&&r(e.defaultZoneName)}));return o.a.createElement("div",null,o.a.createElement(ke.a,{onClose:e.closeDialog,"aria-labelledby":"simple-dialog-title",open:e.isOpen},o.a.createElement(De.a,{id:"simple-dialog-title"},D.zoneDialogTitle[e.language]),o.a.createElement(Ae.a,{dividers:!0},o.a.createElement("div",null,o.a.createElement(f.a,null,o.a.createElement(b.a,{htmlFor:"component-simple"},D.zoneName[e.language]),o.a.createElement(v.a,{id:"component-simple",name:"name",defaultValue:l,onChange:function(e){r(e.target.value)}})))),o.a.createElement(Pe.a,null,o.a.createElement(y.a,{autoFocus:!0,onClick:e.cancelZone,color:"primary"},D.cancel[e.language]),o.a.createElement(y.a,{onClick:function(){e.acceptZone(l),r("")},color:"primary"},"Ok"))))}var xe=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).findUserCoord=function(){var e;return V.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=Object(m.a)(t),a.next=3,V.a.awrap(navigator.geolocation.getCurrentPosition((function(a){e.setState({userLocation:{lat:a.coords.latitude,lng:a.coords.longitude}})})));case 3:case"end":return a.stop()}}))},t.handleClose=function(){t.setState({showMaxZoneReach:!1})},t.toggleDrawer=function(e){t.setState({openDrawer:e})},t.selectZoneToDelete=function(e){t.setState({zoneSelectedToDelete:e})},t.componentDidMount=function(){var e=Object(m.a)(t);setTimeout((function(){h.get("".concat(x,"/zone")).then((function(a){e.initZones(a.data)})).catch((function(e){console.log(e)})).then((function(){}))}),300)},t.initZones=function(e){var a=[];e.map((function(e){var t=e.path.map((function(e){return{lat:e[0],lng:e[1]}})),n=new window.google.maps.Polygon({path:t,geodesic:!0,strokeColor:"#FF0000",strokeOpacity:1,strokeWeight:2});a.push({id:e.zoneId,polygon:n,name:e.name})})),t.setState({zones:a,defaultZoneName:"zone ".concat(a.length+1)})},t.onZoneSelect=function(e){t.setState({zoneSelectedToDelete:-1})},t.onCreateClick=function(){t.state.zones.length>=5?t.setState({showMaxZoneReach:!0}):t.setState({allowDraw:!0})},t.onDeleteSelect=function(){},t.onDeleteClick=function(e){var a=Object(m.a)(t);h.delete("".concat(x,"/zone"),{data:{zoneId:e}}).then((function(t){if(200===t.status){var n=a.state.zones.find((function(a){return a.id===e}));n.polygon.setMap(null),a.setState({zones:a.state.zones.filter((function(e){return e.id!==n.id})),zoneSelectedToDelete:-1})}})).catch((function(e){console.log(e)}))},t.saveAndUploadZone=function(e){var a=t.state.tempZoneValue,n={id:Oe()(),polygon:a,name:e};t.setState({zones:[].concat(Object(Q.a)(t.state.zones),[n]),allowDraw:!1,tempZoneValue:""});var o=[];a.getPath().i.map((function(e){return o.push([e.lat(),e.lng()])})),h.post("".concat(x,"/zone"),{zoneId:n.id,path:o,name:e}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},t.onPolygonComplete=function(e){t.setState({openDialog:!0,allowDraw:!1,tempZoneValue:e,defaultZoneName:"zone ".concat(t.state.zones.length+1)})},t.closeDialog=function(){t.setState({openDialog:!1,tempZoneValue:""})},t.cancelZone=function(){t.state.tempZoneValue.setMap(null),t.closeDialog()},t.cancelZoneInProgress=function(){t.setState({allowDraw:!1,tempZoneValue:""})},t.acceptZone=function(e){t.saveAndUploadZone(e),t.closeDialog()},t.state={test:{},zones:[],allowDraw:!1,openDrawer:!1,openDialog:!1,tempZoneValue:"",userLocation:{lat:45.496205,lng:-73.571895},defaultZoneName:"",zoneSelectedToDelete:-1,showMaxZoneReach:!1},t.findUserCoord(),t}return Object(p.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement(R.a,{className:"home"},this.state.allowDraw?o.a.createElement(y.a,{onClick:this.cancelZoneInProgress},D.cancel[this.props.language]):o.a.createElement(y.a,{onClick:this.onCreateClick},D.new[this.props.language]),o.a.createElement(y.a,{onClick:function(){e.toggleDrawer(!0)}},D.open[this.props.language]),o.a.createElement(re,{isMarkerShown:!0,complete:this.onPolygonComplete,showDrawManager:this.state.allowDraw,zonesToDisplay:this.state.zones,userLocation:this.state.userLocation}),o.a.createElement(je.a,{anchor:"bottom",open:this.state.openDrawer,onClose:function(){e.toggleDrawer(!1)},onOpen:function(){e.toggleDrawer(!0)}},o.a.createElement(ye,{zoneList:this.state.zones,deleteZoneFunc:this.onDeleteClick,onSelect:this.onZoneSelect,selectZoneToDelete:this.selectZoneToDelete,zoneIndexDelete:this.state.zoneSelectedToDelete,language:this.props.language})),o.a.createElement(Ne,{closeDialog:this.closeDialog,isOpen:this.state.openDialog,acceptZone:this.acceptZone,cancelZone:this.cancelZone,language:this.props.language,defaultZoneName:this.state.defaultZoneName}),o.a.createElement(S.a,{open:this.state.showMaxZoneReach,autoHideDuration:2e3,onClose:this.handleClose},o.a.createElement(j,{severity:"error",onClose:this.handleClose},D.maxZonesReached[this.props.language])))}}]),a}(o.a.Component),ze=t(5),Ie=t(608),Ze=t(138),Fe=t(625),Re=Object(ie.a)((function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200}}})),qe=Object(ze.a)({root:{color:Ze.a[400],"&$checked":{color:Ze.a[600]}},checked:{}})((function(e){return o.a.createElement(Fe.a,Object.assign({color:"default"},e))}));function Ue(e){var a=Re(),t=Object(n.useState)("00:00"),l=Object(G.a)(t,2),r=l[0],i=l[1],c=Object(n.useState)("07:30"),s=Object(G.a)(c,2),u=s[0],m=s[1],p=Object(n.useState)(!1),d=Object(G.a)(p,2),g=d[0],E=d[1],f=Object(n.useState)(!0),b=Object(G.a)(f,2),v=b[0],w=b[1];return o.a.createElement(R.a,{className:"home"},o.a.createElement(q.a,{justifyContent:"center",alignItems:"center"},o.a.createElement("div",null,o.a.createElement(y.a,{onClick:function(){var a;a=e.onNotificationReception,V.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:L.getToken().then((function(e){e?M(e):console.log("No Instance ID token available. Request permission to generate one.")})).catch((function(e){console.log("An error occurred while retrieving token. ",e)})),L.onTokenRefresh((function(){L.getToken().then((function(e){console.log("Token refreshed."),M(e)})).catch((function(e){console.log("Unable to retrieve refreshed token ",e)}))})),L.onMessage((function(e){console.log("Message received. ",e),a(e)}));case 3:case"end":return e.stop()}}))}},D.enablePush[e.language]),o.a.createElement(y.a,{onClick:function(){h.get("".concat(x,"/subscribeNotif")).then((function(e){console.log(e)})).catch((function(e){console.log(e)})).then((function(){}))}},"test Notifications"),o.a.createElement("div",null,o.a.createElement("form",{className:a.container,onSubmit:function(e){h.put("".concat(x,"/subscribeNotif"),{start:r,end:u,checkedG:g,checkedApplyPreferences:v}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})).then((function(){})),e.preventDefault()}},o.a.createElement(C.a,{control:o.a.createElement(qe,{checked:v,onChange:function(){w(!v)},name:D.applyPreferencesToNotificatons[e.language]}),label:D.applyPreferencesToNotificatons[e.language]}),o.a.createElement(C.a,{control:o.a.createElement(qe,{checked:g,onChange:function(){E(!g)},name:D.allTheTime[e.language]}),label:D.allTheTime[e.language]}),o.a.createElement(Ie.a,{disabled:g,id:"time",label:D.beginning[e.language],type:"time",value:r,onChange:function(e){i(e.target.value)},className:a.textField,InputLabelProps:{shrink:!0},inputProps:{step:300}}),o.a.createElement(Ie.a,{disabled:g,value:u,id:"time",label:D.ending[e.language],type:"time",onChange:function(e){m(e.target.value)},className:a.textField,InputLabelProps:{shrink:!0},inputProps:{step:300}}),o.a.createElement(y.a,{type:"submit",value:"Submit"},D.apply[e.language]))))))}function Te(e){return o.a.createElement(R.a,{className:"home"},o.a.createElement("div",null,D.info1[e.language]),o.a.createElement("br",null),o.a.createElement("div",null,D.info2[e.language]),o.a.createElement("br",null),o.a.createElement("div",null,D.info3[e.language]),o.a.createElement("br",null),o.a.createElement(y.a,null,o.a.createElement(U.b,{to:"/",style:{textDecoration:"none",color:"black"}},D.return[e.language])),o.a.createElement(y.a,null,o.a.createElement(U.b,{to:"/register",style:{textDecoration:"none",color:"black"}},D.subscribe[e.language])))}var Ve=t(611),He=t(615),Le=t(614),Me=t(610),We=t(612),Xe=t(613),Be=t(176),Ge=t(62),Je=t.n(Ge),Ke=t(272),Qe=t(537),Ye=t(271),$e=Object(ie.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},images:{maxWidth:100,maxHeight:100}}}));function _e(e){var a=Object(n.useState)({photoUrls:function(){for(var a=e.apartInfo.link.substring(22),t="/".concat(a.replace(/\//g,"."),"/"),n=[],o=0;o<e.apartInfo.photoSize;o++){var l=x+t+o+".jpeg";n.push(l)}return n}()}),t=Object(G.a)(a,2),l=t[0],r=(t[1],$e());return o.a.createElement(Ke.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:r.modal,open:e.open,onClose:e.handleClose,closeAfterTransition:!0,BackdropComponent:Qe.a,BackdropProps:{timeout:500}},o.a.createElement(Ye.a,{in:e.open},o.a.createElement("div",{className:r.paper},l.photoUrls.map((function(e,a){return o.a.createElement("img",{className:r.images,key:a,src:e})})),o.a.createElement("h2",{id:"transition-modal-title"},"Transition modal"),o.a.createElement("p",{id:"transition-modal-description"},"react-transition-group animates me."))))}var ea=t(628),aa=t(263),ta=t.n(aa),na=Object(ie.a)({colWidth:"1rem",container:{maxHeight:440}});function oa(e){var a=na(),t=Object(n.useState)(!1),l=Object(G.a)(t,2),r=l[0],i=l[1],c=Object(n.useState)({aparts:[],sorter:"",direction:"desc",sortDate:!1,sortPrice:!1,openModal:!1,apartInfo:null,lookedApart:""}),s=Object(G.a)(c,2),u=s[0],m=s[1];Object(n.useEffect)((function(){p(r)}),[]);var p=function(e){h.get("".concat(x,"/apartements"),{params:{seeAllUserAparts:e}}).then((function(e){var a,t=((a=e.data.data).map((function(e){var a=Je()(),t=Je()(e.createdAt);t.isBefore(a,"d")?(e.absoluteDate=t,e.createdAt=t.format("D/M")):(e.absoluteDate=t,e.createdAt=t.format("HH:mm"))})),a).sort((function(e,a){return a.absoluteDate.diff(e.absoluteDate)}));m(Object(B.a)({},u,{aparts:t}))})).catch((function(e){console.log(e)})).then((function(){}))},d=function(e){if(u.aparts)return u.aparts.sort((function(a,t){return"date"===e?"asc"===u.direction?a.absoluteDate.diff(t.absoluteDate):t.absoluteDate.diff(a.absoluteDate):"asc"===u.direction?a.price-t.price:t.price-a.price}))},g=function(e){m("date"===e?Object(B.a)({},u,{sortDate:!0,sortPrice:!1,direction:"asc"===u.direction?"desc":"asc",aparts:d("date")}):Object(B.a)({},u,{sortDate:!1,sortPrice:!0,direction:"asc"===u.direction?"desc":"asc",aparts:d("price")}))},E=function(a){console.log(a),h.get("".concat(x,"/apartVue"),{params:{id:a}}).then((function(t){var n;m(Object(B.a)({},u,{openModal:!0,fetchedApart:t.data.apartInfos,lookedApart:a})),n=a,h.post("".concat(x,"/apartVue"),{apartId:n}).then((function(e){})).catch((function(e){})),e.clickSeenApart()})).catch((function(e){console.log(e)})).then((function(){}))};return o.a.createElement(R.a,{className:"home"},o.a.createElement(q.a,{justifyContent:"center",alignItems:"center"},o.a.createElement("div",null,o.a.createElement("h1",null,"apartements"),o.a.createElement(Me.a,{className:a.container,component:Be.a},o.a.createElement(Ve.a,{stickyHeader:!0,"aria-label":"sticky table",className:a.table},o.a.createElement(We.a,null,o.a.createElement(Xe.a,{className:a.colWidth},o.a.createElement(Le.a,null,"#"),o.a.createElement(Le.a,null),o.a.createElement(Le.a,null,"Zone"),o.a.createElement(Le.a,{align:"right"},o.a.createElement(ea.a,{active:u.sortDate,direction:u.direction,onClick:function(){g("date")},name:"date"},D.timeFetch[e.language])),o.a.createElement(Le.a,{align:"right"},o.a.createElement(ea.a,{active:u.sortPrice,direction:u.direction,onClick:function(){g("price")},name:"price"},D.price[e.language])))),o.a.createElement(He.a,null,0!==u.aparts.length&&u.aparts.map((function(e,a){return o.a.createElement(Xe.a,{key:e._id,onClick:function(){E(e._id)},name:e._id},o.a.createElement(Le.a,{component:"th",scope:"row"},e._id),o.a.createElement(Le.a,{component:"th",scope:"row"},!e.seen&&o.a.createElement(ta.a,null)),o.a.createElement(Le.a,{component:"th",scope:"row"},e.zoneName),o.a.createElement(Le.a,{align:"right"},e.createdAt),o.a.createElement(Le.a,{align:"right"},e.price))}))))),o.a.createElement("div",null,o.a.createElement(y.a,{onClick:function(){h.put("".concat(x,"/etcAparts")).then((function(a){p(r),e.clearSeenAparts()})).catch((function(e){console.log(e)})).then((function(){}))}},"clear")),o.a.createElement("div",null,o.a.createElement(y.a,{color:r?"primary":"secondary",onClick:function(){i(!r),p(!r)}},"see all userAparts")),u.openModal&&o.a.createElement(_e,{open:u.openModal,apartInfo:u.fetchedApart,handleClose:function(){var e=u.aparts.map((function(e){return e._id===u.lookedApart&&(e.seen=!0),e}));m(Object(B.a)({},u,{openModal:!1,aparts:e}))}}))))}var la=t(618),ra=t(619),ia=t(137),ca=t.n(ia),sa=t(136),ua=t.n(sa),ma=t(51),pa=t(616),da=t(269),ga=t.n(da),ha=t(264),Ea=t.n(ha),fa=t(267),ba=t.n(fa),va=t(268),Ca=t.n(va),wa=t(266),ya=t.n(wa),Sa=t(265),Oa=t.n(Sa),ja=Object(ie.a)({list:{width:250}});function Da(e){var a,t=ja(),n=o.a.useState(!1),l=Object(G.a)(n,2),r=l[0],i=l[1],c=o.a.useState({left:!1}),s=Object(G.a)(c,2),u=s[0],m=s[1],p=[D.account[e.language],D.maps[e.language],D.dashboard[e.language],D.notification[e.language],D.install[e.language],D.logout[e.language],D.langue[e.language]],d=function(a){a===D.langue[e.language]?e.changeLanguage():a===D.logout[e.language]&&h.get("".concat(x,"/logout")).then((function(a){i(!0),e.userLoggedOut()})).catch((function(e){console.log(e)})).then((function(){}))},g=function(e,a){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&m(Object(B.a)({},u,Object(E.a)({},e,a)))}};return o.a.createElement("div",null,o.a.createElement(y.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",onClick:g("left",!0)},o.a.createElement(ga.a,null)),o.a.createElement(ma.a,{open:u.left,onClose:g("left",!1)},(a="left",o.a.createElement("div",{className:t.list,role:"presentation",onClick:g(a,!1),onKeyDown:g(a,!1)},o.a.createElement(ce.a,null,p.map((function(a,t){return function(a,t){switch(a){case D.account[e.language]:return o.a.createElement(U.b,{key:t,style:{textDecoration:"none",color:"inherit"},to:"/account"},o.a.createElement(se.a,{button:!0,onClick:function(){d(a)}},o.a.createElement(pa.a,null,o.a.createElement(Ea.a,null)),o.a.createElement(pe.a,{primary:a})));case D.maps[e.language]:return o.a.createElement(U.b,{key:t,style:{textDecoration:"none",color:"inherit"},to:"/map"},o.a.createElement(se.a,{button:!0,onClick:function(){d(a)}},o.a.createElement(pa.a,null,o.a.createElement(ua.a,null)),o.a.createElement(pe.a,{primary:a})));case D.install[e.language]:return o.a.createElement(U.b,{key:t,style:{textDecoration:"none",color:"inherit"},to:"/"},o.a.createElement(se.a,{button:!0,onClick:function(){d(a)}},o.a.createElement(pa.a,null,o.a.createElement(Oa.a,null)),o.a.createElement(pe.a,{primary:a})));case D.dashboard[e.language]:return o.a.createElement(U.b,{style:{textDecoration:"none",color:"inherit"},to:"/apartements",key:t},o.a.createElement(se.a,{button:!0,onClick:function(){d(a)}},o.a.createElement(pa.a,null,o.a.createElement(ca.a,null)),o.a.createElement(pe.a,{primary:a})));case D.notification[e.language]:return o.a.createElement(U.b,{style:{textDecoration:"none",color:"inherit"},to:"/notifs",key:t},o.a.createElement(se.a,{button:!0,onClick:function(){d(a)}},o.a.createElement(pa.a,null,o.a.createElement(ya.a,null)),o.a.createElement(pe.a,{primary:a})));case D.logout[e.language]:return o.a.createElement(se.a,{button:!0,key:t,onClick:function(){d(a)}},o.a.createElement(pa.a,null,o.a.createElement(ba.a,null)),o.a.createElement(pe.a,{primary:a}));case D.langue[e.language]:return o.a.createElement(se.a,{button:!0,key:t,onClick:function(){d(a)}},o.a.createElement(pa.a,null,o.a.createElement(Ca.a,null)),o.a.createElement(pe.a,{primary:a}))}}(a,t)})))))),r&&o.a.createElement(N.a,{to:"/home"}))}var ka=t(617),Aa=Object(ie.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},list:{width:250}}}));function Pa(e){var a=Aa(),t=o.a.useState({left:!1,anchorEl:null,showMenu:!1}),n=Object(G.a)(t,2),l=n[0],r=n[1],i=function(e){r(Object(B.a)({},l,{anchorEl:e.currentTarget}))};console.log("props.unSeenCount",e.unSeenCount);return o.a.createElement("div",{className:a.root},o.a.createElement(la.a,{position:"static"},o.a.createElement(ra.a,null,e.isLoggedIn&&o.a.createElement(Da,{changeLanguage:function(){e.changeLanguage()},userLoggedOut:e.userLoggedOut,language:e.language}),o.a.createElement(Ee.a,{variant:"h6",className:a.title},o.a.createElement(ge.a,{edge:"start"},o.a.createElement(U.b,{style:{textDecoration:"none",color:"white"},to:"/home"},"jijibot"))),e.isLoggedIn?o.a.createElement("div",null,o.a.createElement(ge.a,{edge:"end","aria-label":"maps","aria-haspopup":"true",color:"inherit"},o.a.createElement(U.b,{style:{textDecoration:"none",color:"white"},to:"/map"},o.a.createElement(ua.a,null))),o.a.createElement(ge.a,{edge:"end","aria-label":"account of current user","aria-haspopup":"true",onClick:i,color:"inherit"},o.a.createElement(ka.a,{color:"secondary",badgeContent:e.unSeenCount},o.a.createElement(U.b,{style:{textDecoration:"none",color:"white"},to:"/apartements"},o.a.createElement(ca.a,null))))):o.a.createElement(y.a,{color:"inherit"},o.a.createElement(U.b,{style:{textDecoration:"none",color:"white"},to:"/login"},D.login[e.language])))))}var Na=t(630),xa=t(620),za=t(541),Ia=t(534),Za=t(539),Fa=t(270),Ra=t(37),qa=t(622);function Ua(e){return"".concat(e,"$")}var Ta={PaperProps:{style:{maxHeight:224,width:250}}},Va=Object(ie.a)({root:{width:300},formControl:{minWidth:120,maxWidth:300}});function Ha(e){var a=Va(),t=Object(n.useState)({dateAvailable:Je()(),priceStart:750,priceEnd:2e3,rooms:["3 1/2"],furnished:!1,parkingAvailable:!1,wheelchairAccessible:!1,petsAllowed:!1,showSucces:!1,showError:!1}),l=Object(G.a)(t,2),r=l[0],i=l[1],c=function(){i(Object(B.a)({},r,{showSucces:!1,showError:!1}))};Object(n.useEffect)((function(){h.get("".concat(x,"/preferences")).then((function(e){i({dateAvailable:e.data.dateAvailable||Je()(),priceStart:e.data.priceStart||750,priceEnd:e.data.priceEnd||2e3,rooms:e.data.rooms||["3 1/2"],furnished:e.data.furnished||!1,parkingAvailable:e.data.parkingAvailable||!1,wheelchairAccessible:e.data.wheelchairAccessible||!1,petsAllowed:e.data.petsAllowed||!1})}),[]).catch((function(e){console.log("error fetching preferences"),console.log(e)}))}),[]);var s=function(e){i(Object(B.a)({},r,Object(E.a)({},e.target.name,e.target.checked)))};return o.a.createElement("div",null,o.a.createElement("form",{className:"preferenceForm",onSubmit:function(e){h.put("".concat(x,"/preferences"),{data:r}).then((function(e){i(Object(B.a)({},r,{showSucces:!0}))})).catch((function(e){i(Object(B.a)({},r,{showError:!0})),console.log(e)})),e.preventDefault()}},o.a.createElement("h2",null,D.preferences[e.language]),o.a.createElement("div",null,o.a.createElement(Ra.a,{utils:Fa.a},o.a.createElement(qa.a,{disableToolbar:!0,variant:"inline",format:"DD/MM/YY",margin:"normal",id:"date-picker-inline",label:D.dateAvailable[e.language],value:r.dateAvailable,onChange:function(e){i(Object(B.a)({},r,{dateAvailable:e}))},KeyboardButtonProps:{"aria-label":"change date"}}))),o.a.createElement("div",{className:a.root},o.a.createElement(b.a,null,D.priceRange[e.language]),o.a.createElement(Na.a,{value:[r.priceStart,r.priceEnd],onChange:function(e,a){i(Object(B.a)({},r,{priceStart:a[0],priceEnd:a[1]}))},valueLabelDisplay:"auto","aria-labelledby":"range-slider",getAriaValueText:Ua,min:100,max:5e3}),"[".concat(r.priceStart,",").concat(r.priceEnd,"]")),o.a.createElement("div",null,o.a.createElement(f.a,{className:a.formControl},o.a.createElement(b.a,{id:"demo-mutiple-checkbox-label"},D.rooms[e.language]),o.a.createElement(za.a,{multiple:!0,value:r.rooms,onChange:function(e){i(Object(B.a)({},r,{rooms:e.target.value}))},input:o.a.createElement(v.a,null),renderValue:function(e){return e.join(", ")},MenuProps:Ta},["1 1/2","2 1/2","3 1/2","4 1/2","5 1/2","6 1/2","7 1/2"].map((function(e,a){return o.a.createElement(xa.a,{key:e,value:e},o.a.createElement(Fe.a,{checked:r.rooms.indexOf(e)>-1}),o.a.createElement(pe.a,{primary:e}))}))))),o.a.createElement("div",null,o.a.createElement(f.a,{component:"fieldset"},o.a.createElement(w.a,{component:"legend"},"Options"),o.a.createElement(Ia.a,null,o.a.createElement(C.a,{control:o.a.createElement(Fe.a,{checked:r.furnished,onChange:s,name:"furnished"}),label:D.furnished[e.language]}),o.a.createElement(C.a,{control:o.a.createElement(Fe.a,{checked:r.parkingAvailable,onChange:s,name:"parkingAvailable"}),label:D.parkingAvailable[e.language]}),o.a.createElement(C.a,{control:o.a.createElement(Fe.a,{checked:r.wheelchairAccessible,onChange:s,name:"wheelchairAccessible"}),label:D.wheelchairAccessible[e.language]}),o.a.createElement(C.a,{control:o.a.createElement(Fe.a,{checked:r.petsAllowed,onChange:s,name:"petsAllowed"}),label:D.petsAllowed[e.language]})),o.a.createElement(Za.a,null,"attention ces cases peuvent severement restraindre la recherche"))),o.a.createElement(y.a,{type:"submit",value:"Submit"},D.apply[e.language])),o.a.createElement(S.a,{open:r.showSucces,autoHideDuration:2e3,onClose:c},o.a.createElement(j,{severity:"success",onClose:c},D.success[e.language])),o.a.createElement(S.a,{open:r.showError,autoHideDuration:2e3,onClose:c},o.a.createElement(j,{severity:"error",onClose:c},D.Error[e.language])))}function La(e){var a=Object(n.useState)(""),t=Object(G.a)(a,2),l=t[0],r=t[1],i=Object(n.useState)(""),c=Object(G.a)(i,2),s=c[0],u=c[1],m=Object(n.useState)(""),p=Object(G.a)(m,2),d=p[0],g=p[1],E=Object(n.useState)(""),w=Object(G.a)(E,2),O=w[0],k=w[1],Z=Object(n.useState)(""),F=Object(G.a)(Z,2),U=F[0],T=F[1],V=Object(n.useState)(""),H=Object(G.a)(V,2),L=H[0],M=H[1],W=Object(n.useState)(""),X=Object(G.a)(W,2),B=X[0],J=X[1],K=Object(n.useState)(!1),Q=Object(G.a)(K,2),Y=Q[0],$=Q[1],_=Object(n.useState)(!1),ee=Object(G.a)(_,2),ae=ee[0],te=ee[1],ne=Object(n.useState)(!1),oe=Object(G.a)(ne,2),le=oe[0],re=oe[1],ie=Object(n.useState)(!1),ce=Object(G.a)(ie,2),se=ce[0],ue=ce[1],me=Object(n.useState)(!1),pe=Object(G.a)(me,2),de=pe[0],ge=pe[1],he=Object(n.useState)(!1),Ee=Object(G.a)(he,2),fe=Ee[0],be=Ee[1],ve=Object(n.useState)(!1),Ce=Object(G.a)(ve,2),we=Ce[0],ye=Ce[1],Se=Object(n.useState)(!1),Oe=Object(G.a)(Se,2),je=Oe[0],De=Oe[1],ke=Object(n.useState)(!1),Ae=Object(G.a)(ke,2),Pe=Ae[0],Ne=Ae[1],xe=Object(n.useState)(""),ze=Object(G.a)(xe,2),Ie=ze[0],Ze=ze[1],Fe=Object(n.useState)(""),Re=Object(G.a)(Fe,2),qe=Re[0],Ue=Re[1],Te=Object(n.useState)(""),Ve=Object(G.a)(Te,2),He=Ve[0],Le=Ve[1],Me=function(){ue(!1),ge(!1),be(!1),ye(!1),De(!1)},We=function(){var e=!0;return A.a.validate(d)&&d===O?!function(){if("apple"===B)return!1;var e=/^\d+$/.test(U);return"android"===B&&!e||U!==L||""===U||""===L}()?!Pe||qe===He&&""!==qe&&""!==He||(be(!0),e=!1):(ge(!0),e=!1):(ue(!0),e=!1),console.log("isClean",e),e},Xe=function(){te(!0),h.get("".concat(x,"/users")).then((function(e){r(e.data.firstname),u(e.data.lastname),T(e.data.telephone),J(e.data.platform),g(e.data.email),te(!1)})).catch((function(e){console.log(e),te(!1)}))},Be=function(e){"firstname"===e.target.name&&r(e.target.value),"lastname"===e.target.name&&u(e.target.value),"email"===e.target.name&&g(e.target.value),"telephone"===e.target.name&&T(e.target.value),"platform"===e.target.name&&J(e.target.value),"oldPassword"===e.target.name&&Ze(e.target.value),"newPassword"===e.target.name&&Ue(e.target.value),"newPasswordConf"===e.target.name&&Le(e.target.value),"emailConfirmation"===e.target.name&&k(e.target.value),"telephoneConfirmation"===e.target.name&&M(e.target.value)};Object(n.useEffect)((function(){Xe()}),[]);return o.a.createElement(R.a,{className:"home"},o.a.createElement(q.a,{justifyContent:"center",alignItems:"center"},o.a.createElement("div",null,o.a.createElement("form",{className:"registerForm",onSubmit:function(e){We()&&(console.log("sending request"),h.put("".concat(x,"/users"),{firstname:l,lastname:s,email:d,telephone:U,changePassword:Pe,platform:B,oldPassword:Ie,newPassword:qe}).then((function(e){console.log("god damn response",e),"successful"===e.data?(De(!0),setTimeout((function(){$(!0)}),2e3)):"errorOldPassword"===e.data&&ye(!0)})).catch((function(e){console.log("sending request post?"),console.log(e)}))),e.preventDefault()}},o.a.createElement("h2",null,D.account[e.language]),o.a.createElement("div",null,o.a.createElement(f.a,null,o.a.createElement(b.a,{htmlFor:"component-simple"},D.firstname[e.language]),o.a.createElement(v.a,{id:"component-simple",name:"firstname",value:l,onChange:Be}))),o.a.createElement("div",null,o.a.createElement(f.a,null,o.a.createElement(b.a,{htmlFor:"component-simple"},D.lastname[e.language]),o.a.createElement(v.a,{id:"component-simple",name:"lastname",value:s,onChange:Be}))),o.a.createElement("div",null,o.a.createElement(f.a,null,o.a.createElement(b.a,{htmlFor:"component-simple"},D.email[e.language]),o.a.createElement(v.a,{id:"component-simple",name:"email",value:d,onChange:Be}))),le&&o.a.createElement("div",null,o.a.createElement(f.a,null,o.a.createElement(b.a,{htmlFor:"component-simple"},D.confirmation[e.language]),o.a.createElement(v.a,{id:"component-simple",name:"emailConfirmation",value:O,onChange:Be}))),o.a.createElement("div",null,o.a.createElement(f.a,{component:"fieldset"},o.a.createElement(I.a,{"aria-label":"Platforme",name:"platform",value:B,onChange:Be},o.a.createElement(C.a,{value:"apple",control:o.a.createElement(z.a,null),label:"Apple"}),o.a.createElement(C.a,{value:"android",control:o.a.createElement(z.a,null),label:"Android"})))),o.a.createElement("div",null,"android"===B&&o.a.createElement("div",null,o.a.createElement(f.a,null,o.a.createElement(b.a,{htmlFor:"component-simple"},D.telephoneNumber[e.language]),o.a.createElement(v.a,{id:"component-simple",name:"telephone",value:U,onChange:Be}))),"android"===B&&le&&o.a.createElement("div",null,o.a.createElement(f.a,null,o.a.createElement(b.a,{htmlFor:"component-simple"},D.telephoneNumberConfirmation[e.language]),o.a.createElement(v.a,{id:"component-simple",name:"telephoneConfirmation",value:L,onChange:Be})))),Pe&&o.a.createElement("div",null,o.a.createElement(f.a,null,o.a.createElement(b.a,{htmlFor:"component-simple"},D.oldPassword[e.language]),o.a.createElement(v.a,{id:"component-simple",name:"oldPassword",value:Ie,onChange:Be})),o.a.createElement(f.a,null,o.a.createElement(b.a,{htmlFor:"component-simple"},D.changePassword[e.language]),o.a.createElement(v.a,{id:"component-simple",name:"newPassword",value:qe,onChange:Be})),o.a.createElement(f.a,null,o.a.createElement(b.a,{htmlFor:"component-simple"},D.confirmation[e.language]),o.a.createElement(v.a,{id:"component-simple",name:"newPasswordConf",value:He,onChange:Be}))),o.a.createElement("div",null,le?o.a.createElement("div",null,o.a.createElement(y.a,{onClick:function(){Xe(),re(!1),Ne(!1)},value:"Submit"},D.cancel[e.language]),o.a.createElement(y.a,{onClick:function(){Ne(!0)},value:"Submit"},D.changePassword[e.language])):o.a.createElement(y.a,{onClick:function(){re(!0)},value:"Submit"},D.modify[e.language]),le&&o.a.createElement(y.a,{type:"submit",value:"Submit"},D.apply[e.language]),ae&&o.a.createElement(P.a,null))),o.a.createElement(Ha,{language:e.language}),o.a.createElement("div",null,o.a.createElement(S.a,{open:se,autoHideDuration:2e3,onClose:Me},o.a.createElement(j,{severity:"error",onClose:Me},D.emailConfirmError[e.language])),o.a.createElement(S.a,{open:de,autoHideDuration:2e3,onClose:Me},o.a.createElement(j,{severity:"error",onClose:Me},D.telephoneError[e.language])),o.a.createElement(S.a,{open:fe,autoHideDuration:2e3,onClose:Me},o.a.createElement(j,{severity:"error",onClose:Me},D.pwConfirmError[e.language])),o.a.createElement(S.a,{open:we,autoHideDuration:2e3,onClose:Me},o.a.createElement(j,{severity:"error",onClose:Me},D.oldPasswordError[e.language])),o.a.createElement(S.a,{open:je,autoHideDuration:2e3,onClose:Me},o.a.createElement(j,{severity:"success",onClose:Me},D.updateUserSuccess[e.language]))),Y&&o.a.createElement(N.a,{to:"/home"}))))}t(524),t(525);var Ma=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).changeLanguage=function(){t.setState((function(e){return{language:0===e.language?1:0}}))},t.handleClick=function(e){t.setState({anchorEl:e.currentTarget})},t.handleClose=function(){t.setState({anchorEl:null})},t.logoutHandeler=function(){t.setState({isLoggedIn:!1,userFirstName:""})},t.logUserCredentials=function(e){t.setState({isLoggedIn:!0,userFirstName:e.firstname,unSeenCount:e.unSeenCount})},t.onNotificationReception=function(e){var a=JSON.parse(e.data.aparts),n=t.state.unSeenCount+a.length;t.setState({unSeenCount:n})},t.clearSeenAparts=function(){t.setState({unSeenCount:0})},t.clickSeenApart=function(){if(0!==t.state.unSeenCount){var e=t.state.unSeenCount-1;t.setState({unSeenCount:e})}},t.testBrowserSession=function(){throw"Parameter is not a number!"},t.state={isLoggedIn:!1,userFirstName:"",anchorEl:null,width:window.innerWidth,height:window.innerHeight,language:0},t.testBrowserSession(),t}return Object(p.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this.props.classes;return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:e.root},o.a.createElement(Pa,{userLoggedOut:this.logoutHandeler,changeLanguage:this.changeLanguage,isLoggedIn:this.state.isLoggedIn,userFirstName:this.state.userFirstName,language:this.state.language,unSeenCount:this.state.unSeenCount})),o.a.createElement("div",{className:"body"},o.a.createElement(N.d,null,o.a.createElement(N.b,{path:"/apartements"},o.a.createElement(oa,{language:this.state.language,clickSeenApart:this.clickSeenApart,clearSeenAparts:this.clearSeenAparts})),o.a.createElement(N.b,{path:"/informations"},o.a.createElement(Te,{language:this.state.language})),o.a.createElement(N.b,{path:"/register"},o.a.createElement(Z,{language:this.state.language})),o.a.createElement(N.b,{path:"/login"},o.a.createElement(F,{logUserIn:this.logUserCredentials,language:this.state.language})),o.a.createElement(N.b,{path:"/account"},o.a.createElement(La,{language:this.state.language})),o.a.createElement(N.b,{path:"/map"},o.a.createElement(xe,{language:this.state.language})),o.a.createElement(N.b,{path:"/notifs"},o.a.createElement(Ue,{language:this.state.language,onNotificationReception:this.onNotificationReception})),o.a.createElement(N.b,{path:"/"},o.a.createElement(K,{language:this.state.language})))))}}]),a}(o.a.Component),Wa=Object(ze.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}),{withTheme:!0})(Ma);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(U.a,null,o.a.createElement(Wa,null)),document.getElementById("root"))}},[[289,1,2]]]);
//# sourceMappingURL=main.0d8d4f86.chunk.js.map